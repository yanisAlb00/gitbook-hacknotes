# Fonctionnement interne de la fonctionnalité Log4J

Quand on décompile la libraire Log4J, on se rencontre que de nombreuses étapes et contrôles sont nécessaires pour interpréter le caractère dynamique des variables à logger.

Cette vulnérabilité aurait pu être évitée si un développeur intégrait la "Security By Design" dans son code.

Par exemple, en n'utilisant pas la fonctionnalité pour les variables d'environnement de la librairie mais plutôt les fonctions natives Java prévus à cet effet.

A noter que cette façon de développer est un peu plus longue et moins intuitive que la première.

<figure><img src="../../../.gitbook/assets/image (4).png" alt=""><figcaption></figcaption></figure>

Moins de complexité dans le développement -> Moins de sécurité&#x20;

Dire que l'utilisation de la fonction env:HOME est moins complexe est faux : la complexité est cachée au développeur par des appels à des librairies et le code dans sa globalité se retrouve finalement + complexe. Donc surface d'attaque plus grande.
